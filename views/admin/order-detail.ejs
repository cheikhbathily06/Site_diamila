<!DOCTYPE html><html lang="fr"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title><%= title %></title><link rel="stylesheet" href="/css/admin.css">
  <link rel="stylesheet" href="/css/luxury-design.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">  <link rel="stylesheet" href="/css/responsive.css">
  <link rel="stylesheet" href="/css/golden-design.css">
</head><body class="admin-layout"><div class="admin-wrapper"><aside class="admin-sidebar"><div class="sidebar-header"><h2>Denisia Bijoux</h2><p><%= adminEmail %></p></div><ul class="sidebar-menu"><li><a href="/admin/dashboard"><i class="fas fa-chart-line"></i>Dashboard</a></li><li><a href="/admin/products"><i class="fas fa-gem"></i>Produits</a></li><li><a href="/admin/orders" class="active"><i class="fas fa-shopping-bag"></i>Commandes</a></li><li><a href="/admin/delivery-zones"><i class="fas fa-truck"></i>Livraison</a></li><li><a href="/admin/pages"><i class="fas fa-file-alt"></i>Pages</a></li></ul><a href="/admin/logout" class="logout-btn">Déconnexion</a></aside><div class="admin-content"><div class="admin-header"><h1>Commande <%= order.orderNumber %></h1><a href="/admin/orders" class="btn btn-secondary">Retour</a></div><div class="form-container"><h3>Informations client</h3><p><strong>Nom:</strong> <%= order.customer.firstName %> <%= order.customer.lastName %></p><p><strong>Email:</strong> <%= order.customer.email %></p><p><strong>Téléphone:</strong> <%= order.customer.phone %></p><p><strong>Adresse:</strong> <%= order.customer.address %></p><h3 style="margin-top: 2rem;">Articles commandés</h3><table class="data-table"><thead><tr><th>Produit</th><th>Prix unitaire</th><th>Quantité</th><th>Sous-total</th></tr></thead><tbody><% order.items.forEach(item => { %><tr><td><%= item.productName %><% if (item.isPersonalized) { %><br><small style="color: var(--admin-primary);">Personnalisé: <%= item.personalizationText %></small><% } %></td><td><%= item.productPrice.toLocaleString('fr-FR') %> FCFA</td><td><%= item.quantity %></td><td><%= item.subtotal.toLocaleString('fr-FR') %> FCFA</td></tr><% }) %></tbody></table><div style="text-align: right; margin-top: 2rem;"><p><strong>Sous-total:</strong> <%= order.subtotal.toLocaleString('fr-FR') %> FCFA</p><p><strong>Livraison (<%= order.deliveryZoneName %>):</strong> <%= order.deliveryPrice.toLocaleString('fr-FR') %> FCFA</p><p style="font-size: 1.3rem; color: var(--admin-primary);"><strong>Total:</strong> <%= order.total.toLocaleString('fr-FR') %> FCFA</p></div><h3 style="margin-top: 2rem;">Statuts</h3><div class="form-grid"><div class="form-group"><label>Statut de paiement</label><select onchange="updateOrderStatus('<%= order._id %>', 'paymentStatus', this.value)"><option value="pending" <%= order.paymentStatus === 'pending' ? 'selected' : '' %>>En attente</option><option value="paid" <%= order.paymentStatus === 'paid' ? 'selected' : '' %>>Payé</option><option value="failed" <%= order.paymentStatus === 'failed' ? 'selected' : '' %>>Échoué</option></select></div><div class="form-group"><label>Statut de commande</label><select onchange="updateOrderStatus('<%= order._id %>', 'orderStatus', this.value)"><option value="pending" <%= order.orderStatus === 'pending' ? 'selected' : '' %>>En attente</option><option value="confirmed" <%= order.orderStatus === 'confirmed' ? 'selected' : '' %>>Confirmé</option><option value="processing" <%= order.orderStatus === 'processing' ? 'selected' : '' %>>En préparation</option><option value="shipped" <%= order.orderStatus === 'shipped' ? 'selected' : '' %>>Expédié</option><option value="delivered" <%= order.orderStatus === 'delivered' ? 'selected' : '' %>>Livré</option><option value="cancelled" <%= order.orderStatus === 'cancelled' ? 'selected' : '' %>>Annulé</option></select></div></div></div></div></div><script src="/js/admin.js"></script></body></html>
